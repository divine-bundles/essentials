[[zsh-default-main]]
= Deployment `zsh-default` (`1333`)
:author: Grove Pyree
:email: grayarea@protonmail.ch
:revdate: 2019.11.29
:revremark: Revise Grail references to reflect its move to home dir
:doctype: article
// Visual
:toc:
// Subs:
:hs: #
:dhs: ##
:us: _
:dus: __
:as: *
:das: **

The `zsh-default` deployment ensures that https://sourceforge.net/projects/zsh[Zsh] is the default shell for the current OS user.

[[zsh-default-mtdt]]
[none]
* *Deployment* https://github.com/no-simpler/divine-dotfiles#mtdt-name-and-desc[*name*]: `zsh-default`
* https://github.com/no-simpler/divine-dotfiles#mtdt-priority[*Priority*]: `1333`
* https://github.com/no-simpler/divine-dotfiles#mtdt-flags[*Flags*]: _none_
* https://github.com/no-simpler/divine-dotfiles#indct-dpl-dir[*Deployment directory*] (`_<dpl-dir>_`): `https://github.com/no-simpler/divine-dotfiles#fmwk-state[state]/bundles/no-simpler/divine-bundle-essentials/zsh-default/`
* https://github.com/no-simpler/divine-dotfiles#indct-dpl-asset-dir[*Asset directory*] (`_<asset-dir>_`): `~/https://github.com/no-simpler/divine-dotfiles#fmwk-grail[.grail]/assets/zsh-default/`
+
Assets are never removed from the Grail, even when uninstalling the deployment.
* https://github.com/no-simpler/divine-dotfiles#indct-dpl-backup-dir[*Backup directory*] (`_<backup-dir>_`): `https://github.com/no-simpler/divine-dotfiles#fmwk-state[state]/backups/zsh-default/`
* https://github.com/no-simpler/divine-dotfiles#fmwk-zero-data-loss[*Zero data loss*]: any displaced files are backed up.
* https://github.com/no-simpler/divine-dotfiles#fmwk-reversibility[*Reversibility*]: backed up files are restored, re-used ones untouched.

== Installation map

After some preparations (involving the `/etc/shells` file), the `zsh-default` deployment calls the `chsh -s _<path to zsh>_` command to change the default shell.
Note that *changing the default shell requires the user's password*.
The password prompt will appear during the installation/removal.

== Included assets

The `zsh-default` deployment does not include any assets.

== Dependencies

The `zsh-default` deployment is stand-alone.

On some systems, the <<dpls-dfls,Divinefile>> included with the current bundle ensures that the `chsh` utility is installed.